org_id: aliawadlaw
tsm:
  - name: CRM_Contacts
    fields:
    - name: Truve_Org_ID
      data_type: int
      transform: 
        source: internal
        type: key
    - name: Client_Org_ID
      data_type: string
      transform:
        source: etl
        type: org_id
    - name: Contact_ID
      data_type: int
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: Id
        type: data
    - name: FirstName
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: FirstName
        type: data
    - name: MiddleName
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: MiddleName
        type: data
    - name: LastName
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: LastName
        type: data
    - name: Address1
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: Address1
        type: data
    - name: Address2
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: Address2
        type: data
    - name: City
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: City
        type: data
    - name: State
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: State
        type: data
    - name: Zip
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: Zip
        type: data
    - name: County
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: County
        type: data
    - name: HomePhone
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: HomePhone
        type: data
    - name: MobilePhone
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: MobilePhone
        type: data
    - name: WorkPhone
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: WorkPhone
        type: data
    - name: Email
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: Email
        type: data
    - name: PreferredContactMethod
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: PreferredContactMethod
        type: data
    - name: Date_of_Birth
      data_type: timestamp
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: Birthdate
        type: data
    # - name: Longitude
    #   data_type: string
    #   transform:
    #     source: etl
    #     source_entity_type: core
    #     source_entity_name: contact
    #     source_field: Longitude
    #     type: data
    # - name: Latitude
    #   data_type: string
    #   transform:
    #     source: etl
    #     source_entity_type: core
    #     source_entity_name: contact
    #     source_field: Latitude
    #     type: data
    # - name: SubscribeToMailingList
    #   data_type: boolean
    #   transform:
    #     source: etl
    #     source_entity_type: core
    #     source_entity_name: contact
    #     source_field: SubscribeToMailingList
    #     type: data
    # - name: BadAddress
    #   data_type: boolean
    #   transform:
    #     source: etl
    #     source_entity_type: core
    #     source_entity_name: contact
    #     source_field: BadAddress
    #     type: data
    - name: If_Deceased
      data_type: boolean
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: Deceased
        type: data
    - name: Gender
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: Gender
        type: data
    - name: Minor
      data_type: boolean
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: Minor
        type: data
    - name: Language
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: Language
        type: data
    - name: Contact_Source
      data_type: string
    - name: Contact_Source_Type
      data_type: string
    - name: Contact_Source_SubType
      data_type: string
    # - name: Code
    #   data_type: string
    #   transform:
    #     source: etl
    #     source_entity_type: core
    #     source_entity_name: contact
    #     source_field: Code
    #     type: data
    # - name: DoNotText
    #   data_type: boolean
    #   transform:
    #     source: etl
    #     source_entity_type: core
    #     source_entity_name: contact
    #     source_field: DoNotText
    #     type: data
    - name: Created_On
      data_type: timestamp
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: CreatedOn
        type: data
    - name: Created_By_ID
      data_type: int
    - name: Created_By_Full_Name
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: CreatedBy
        type: data
    - name: Custom1
      data_type: string
    - name: Custom2
      data_type: string
    - name: Custom3
      data_type: string
    # - name: PendingGeocode
    #   data_type: boolean
    #   transform:
    #     source: etl
    #     source_entity_type: core
    #     source_entity_name: contact
    #     source_field: PendingGeocode
    #     type: data
    #- name: Code
    #  data_type: string
    #  transform:
    #    source: etl
    #    source_entity_type: core
    #    source_entity_name: contact
    #    source_field: Code
    #    type: data
    # - name: LeadIds
    #   data_type: string
    #   transform:
    #     source: etl
    #     source_entity_type: core
    #     source_entity_name: contact
    #     source_field: LeadIds
    #     type: data
    # - name: CustomFields
    #   data_type: string
    #   transform:
    #     source: etl
    #     source_entity_type: core
    #     source_entity_name: contact
    #     source_field: CustomFields
    #     type: data
  - name: CRM_LeadDetail
    fields:
    - name: Truve_Org_ID
      data_type: int
      transform: 
        source: internal
        type: key
    - name: Client_Org_ID
      data_type: string
      transform:
        source: etl
        type: org_id
    - name: Id
      data_type: int
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: Id
        type: data
    - name: Summary
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: leadDetail
        source_field: Summary
        type: data
    - name: InjuryInformation
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: InjuryInformation
        type: data
    - name: Status
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: Id
        type: Status
    - name: SubStatus
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: SubStatus
        type: data
    - name: SeverityLevel
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: SeverityLevel
        type: data
    - name: Code
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: Code
        type: data
    - name: Contact
      data_type: int
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: Contact
        type: data
    - name: PracticeArea
      data_type: int
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: PracticeArea
        type: data
    - name: MarketingSource
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: MarketingSource
        type: data
    - name: ContactSource
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: ContactSource
        type: data
    - name: TalkedToOtherAttorneys
      data_type: string
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: TalkedToOtherAttorneys
        type: data
    - name: FoundUsNotes
      data_type: string
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: FoundUsNotes
        type: data
    - name: UTM
      data_type: string
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: UTM
        type: data
    - name: CurrentUrl
      data_type: string
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: CurrentUrl
        type: data
    - name: ReferringUrl
      data_type: string
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: ReferringUrl
        type: data
    - name: ClickId
      data_type: string
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: ClickId
        type: data
    - name: ClientId
      data_type: string
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: ClientId
        type: data
    - name: Keywords
      data_type: string
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: Keywords
        type: data
    - name: Campaign
      data_type: string
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: Campaign
        type: data
    - name: AppointmentLocation
      data_type: string
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: AppointmentLocation
        type: data
    - name: Office
      data_type: string
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: Office
        type: data
    - name: OfficeCode
      data_type: string
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: OfficeCode
        type: data
    - name: ReferredTo
      data_type: string
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: ReferredTo
        type: data
    - name: ReferredByName
      data_type: string
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: ReferredByName
        type: data
    - name: ReferredBy
      data_type: string
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: ReferredBy
        type: data
    - name: CreatedDate
      data_type: timestamp
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: CreatedDate
        type: data
    - name: IncidentDate
      data_type: timestamp
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: IncidentDate
        type: data
    - name: RejectedDate
      data_type: timestamp
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: RejectedDate
        type: data
    - name: ReferredDate
      data_type: timestamp
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: ReferredDate
        type: data
    - name: AssignedDate
      data_type: timestamp
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: AssignedDate
        type: data
    - name: AppointmentScheduledDate
      data_type: timestamp
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: AppointmentScheduledDate
        type: data
    - name: ChaseDate
      data_type: timestamp
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: ChaseDate
        type: data
    #- name: ContactChaseDateSource
    #  data_type: string
    #  transform:  
    #    source: etl
    #    source_entity_type: core
    #    source_entity_name: leaddetail
    #    source_field: ContactChaseDateSource
    #    type: data
    - name: SignedUpDate
      data_type: timestamp
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: SignedUpDate
        type: data
    - name: CaseClosedDate
      data_type: timestamp
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: CaseClosedDate
        type: data
    - name: LostDate
      data_type: timestamp
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: LostDate
        type: data
    - name: UnderReviewDate
      data_type: timestamp
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: UnderReviewDate
        type: data
    - name: PendingSignupDate
      data_type: timestamp
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: PendingSignupDate
        type: data
    - name: HoldDate
      data_type: timestamp
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: HoldDate
        type: data
    - name: Intake
      data_type: int
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: Intake
        type: data
    - name: Paralegal
      data_type: string
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: Paralegal
        type: data
    - name: Investigator
      data_type: string
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: Investigator
        type: data
    - name: Attorney
      data_type: int
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: Attorney
        type: data
    - name: AssignedTo
      data_type: string
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: AssignedTo
        type: data
    - name: Creator
      data_type: int
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: Creator
        type: data
    - name: RelatedContacts
      data_type: string
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: RelatedContacts
        type: data
    - name: Messages
      data_type: string
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: Messages
        type: data
    - name: Notes
      data_type: string
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: Notes
        type: data
    - name: Opportunity
      data_type: string
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: Opportunity
        type: data
    - name: PhoneCall
      data_type: string
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: PhoneCall
        type: data
    - name: CustomFields
      data_type: string
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: CustomFields
        type: data
    - name: Settlements
      data_type: string
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: Settlements
        type: data
    - name: QualifiedLead
      data_type: string
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: QualifiedLead
        type: data
    - name: WereYouAtFault
      data_type: string
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: WereYouAtFault
        type: data
    - name: Wasanyoneelseinthevehiclewithyou
      data_type: string
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: Wasanyoneelseinthevehiclewithyou
        type: data
    - name: TreatmentatHospital
      data_type: string
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: TreatmentatHospital
        type: data
    - name: Didyouseekanyotherdoctorstreatment
      data_type: string
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: Didyouseekanyotherdoctorstreatment
        type: data
  - name: CRM_CaseTypes
    fields:
    - name: Truve_Org_ID
      data_type: int
      transform:
        source: internal
        type: key
    - name: Client_Org_ID
      data_type: string
      transform:
        source: etl
        type: org_id
    - name: Practice_Type_ID
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: casetype
        source_field: Code
        type: data
    - name: Case_Type_ID
      data_type: int
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: casetype
        source_field: Id
        type: data
    - name: Case_Type_Name
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: casetype
        source_field: TypeName
        type: data
    - name: Case_Type_NameShort
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: casetype
        source_field: TypeNameShort
        type: data
    - name: IsMassTort
      data_type: boolean
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: casetype
        source_field: IsMassTort
        type: data
    - name: Custom1
      data_type: string
    - name: Custom2
      data_type: string
    - name: Custom3
      data_type: string
  - name: CRM_PracticeTypes
    fields:
    - name: Truve_Org_ID
      data_type: int
      transform:
        source: internal
        type: key
    - name: Client_Org_ID
      data_type: string
      transform:
        source: etl
        type: org_id
    - name: Practice_Type_ID
      data_type: int
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: casetype
        source_field: Code
        type: data
    - name: Practice_Type_Name
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: casetype
        source_field: Code
        type: data
    - name: Custom1
      data_type: string
    - name: Custom2
      data_type: string
    - name: Custom3
      data_type: string
  - name: CRM_LeadSource
    fields:
    - name: Truve_Org_ID
      data_type: int
      transform:
        source: internal
        type: key
    - name: Client_Org_ID
      data_type: string
      transform:
        source: etl
        type: org_id
    - name: Id
      data_type: int
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: leadsource
        source_field: Id
        type: data
    - name: SourceName
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: leadsource
        source_field: SourceName
        type: data
  - name: CRM_Referrals
    fields:
    - name: Truve_Org_ID
      data_type: int
      transform:
        source: internal
        type: key
    - name: Client_Org_ID
      data_type: string
      transform:
        source: etl
        type: org_id
    - name: Referral_ID
      data_type: int
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: referrals
        source_field: Id
        type: data
    - name: Referral_Name
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: referrals
        source_field: Name
        type: data
    - name: Referral_Type
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: referrals
        source_field: Type
        type: data
    - name: If_Case_Referred_Out
      data_type: boolean
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: referrals
        source_field: Outgoing
        type: data
    - name: Custom1
      data_type: string
    - name: Custom2
      data_type: string
    - name: Custom3
      data_type: string
  - name: CRM_Status
    fields:
    - name: Truve_Org_ID
      data_type: int
      transform:
        source: internal
        type: key
    - name: Client_Org_ID
      data_type: string
      transform:
        source: etl
        type: org_id
    - name: Status_ID
      data_type: int
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: statuses
        source_field: Id
        type: data
    - name: Status_Name
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: statuses
        source_field: Status
        type: data
    - name: Substatus_Name
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: statuses
        source_field: Substatuses
        type: data
    - name: Custom1
      data_type: string
    - name: Custom2
      data_type: string
    - name: Custom3
      data_type: string
  - name: CRM_Users
    fields:
    - name: Truve_Org_ID
      data_type: int
      transform:
        source: internal
        type: key
    - name: Client_Org_ID
      data_type: string
      transform:
        source: etl
        type: org_id
    - name: User_ID
      data_type: int
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: users
        source_field: Id
        type: data
    - name: First_Name
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: users
        source_field: FirstName
        type: data
    - name: Middle_Name
      data_type: string
    - name: Last_Name
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: users
        source_field: LastName
        type: data
    - name: Full_Name
      data_type: string
    - name: Email
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: users
        source_field: Email
        type: data
    - name: Custom1
      data_type: string
    - name: Custom2
      data_type: string
    - name: Custom3
      data_type: string
  - name: CRM_Leads
    fields:
    - name: Truve_Org_ID
      data_type: int
      transform: 
        source: internal
        type: key
    - name: Client_Org_ID
      data_type: string
      transform:
        source: etl
        type: org_id
    - name: Lead_Id
      data_type: int
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: leadrow
        source_field: Id
        type: data
    - name: Contact_ID
      data_type: int
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: leadrow
        source_field: ContactId
        type: data
    - name: Case_Type_ID
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: leadrow
        source_field: CaseType
        type: data
  - name: CRM_StatusChanges # TODO New Table
    fields:
    - name: Truve_Org_ID
      data_type: int
      transform:
        source: internal
        type: key
    - name: Client_Org_ID
      data_type: string
      transform:
        source: etl
        type: org_id
    - name: Lead_ID
      data_type: int
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: users
        source_field: Id
        type: data
    - name: Status_ID
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: users
        source_field: StatusId
        type: data
    - name: Status_Change_Date
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: users
        source_field: LastStatusChangeDate
        type: data
    - name: Custom1
      data_type: string
    - name: Custom2
      data_type: string
    - name: Custom3
      data_type: string
