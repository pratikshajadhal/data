org_id: aliawadlaw
tsm:
  - name: CRM_Contacts
    fields:
    - name: Truve_Org_ID
      data_type: int
      transform: 
        source: internal
        type: key
    - name: Client_Org_ID
      data_type: string
      transform:
        source: etl
        type: org_id
    - name: Contact_ID
      data_type: int
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: Id
        type: data
    - name: First_Name
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: FirstName
        type: data
    - name: Middle_Name
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: MiddleName
        type: data
    - name: Last_Name
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: LastName
        type: data
    - name: Address1
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: Address1
        type: data
    - name: Address2
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: Address2
        type: data
    - name: City
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: City
        type: data
    - name: State
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: State
        type: data
    - name: Zip
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: Zip
        type: data
    - name: County
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: County
        type: data
    - name: HomePhone
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: HomePhone
        type: data
    - name: MobilePhone
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: MobilePhone
        type: data
    - name: WorkPhone
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: WorkPhone
        type: data
    - name: Email
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: Email
        type: data
    - name: PreferredContactMethod
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: PreferredContactMethod
        type: data
    - name: Date_of_Birth
      data_type: timestamp
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: Birthdate
        type: data
    - name: If_Deceased
      data_type: boolean
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: Deceased
        type: data
    - name: Gender
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: Gender
        type: data
    - name: Minor
      data_type: boolean
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: Minor
        type: data
    - name: Language
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: Language
        type: data
    - name: Contact_Source
      data_type: string
    - name: Contact_Source_Type
      data_type: string
    - name: Contact_Source_SubType
      data_type: string
    # - name: Code
    #   data_type: string
    #   transform:
    #     source: etl
    #     source_entity_type: core
    #     source_entity_name: contact
    #     source_field: Code
    #     type: data
    # - name: DoNotText
    #   data_type: boolean
    #   transform:
    #     source: etl
    #     source_entity_type: core
    #     source_entity_name: contact
    #     source_field: DoNotText
    #     type: data
    - name: Created_On
      data_type: timestamp
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: CreatedOn
        type: data
    - name: Created_By_ID
      data_type: int
    - name: Created_By_Full_Name
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: contact
        source_field: CreatedBy
        type: data
    - name: Custom1
      data_type: string
    - name: Custom2
      data_type: string
    - name: Custom3
      data_type: string
    # - name: PendingGeocode
    #   data_type: boolean
    #   transform:
    #     source: etl
    #     source_entity_type: core
    #     source_entity_name: contact
    #     source_field: PendingGeocode
    #     type: data
    #- name: Code
    #  data_type: string
    #  transform:
    #    source: etl
    #    source_entity_type: core
    #    source_entity_name: contact
    #    source_field: Code
    #    type: data
    # - name: LeadIds
    #   data_type: string
    #   transform:
    #     source: etl
    #     source_entity_type: core
    #     source_entity_name: contact
    #     source_field: LeadIds
    #     type: data
    # - name: CustomFields
    #   data_type: string
    #   transform:
    #     source: etl
    #     source_entity_type: core
    #     source_entity_name: contact
    #     source_field: CustomFields
    #     type: data
  - name: CRM_LeadDetail
    fields:
    - name: Truve_Org_ID
      data_type: int
      transform: 
        source: internal
        type: key
    - name: Client_Org_ID
      data_type: string
      transform:
        source: etl
        type: org_id
    - name: Lead_ID
      data_type: int
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: ld_Id
        type: data
    - name: Opportunity_ID
      data_type: int
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: opportunity
        source_field: opp_Id
        type: data
    - name: Status_ID
      data_type: int
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: statuses
        source_field: Status_ID
        type: data
    - name: Lead_Source_ID
      data_type: int
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: leadsource
        source_field: Lead_Source_ID
        type: Status
    - name: Summary
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: opportunity
        source_field: opp_Summary
        type: data
    - name: InjuryInformation
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: ld_InjuryInformation
        type: data
    - name: Notes
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: opportunity
        source_field: opp_Note
        type: data
    - name: Referred_By_ID
      data_type: int
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: opportunity
        source_field: ld_ReferredBy
        type: data
    - name: Severity_Level
      data_type: str
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: ld_SeverityLevel
        type: data
    - name: County_of_Event
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: opportunity
        source_field: opp_County
        type: data
    - name: If_Processed
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: opportunity
        source_field: opp_Processed
        type: data
    - name: Processed_Date
      data_type: date
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: opportunity
        source_field: opp_ProcessedDate
        type: data
    - name: Processed_By_ID
      data_type: int
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: users
        source_field: Processed_By_ID
        type: data
    - name: DisregardReason
      data_type: string
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: opportunity
        source_field: opp_DisregardReason
        type: data
    - name: Assigned_To_ID
      data_type: int
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: users
        source_field: Assigned_To_ID
        type: data
    - name: Rejected_date
      data_type: date
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: ld_RejectedDate
        type: data
    - name: Referred_date
      data_type: date
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: ld_ReferredDate
        type: data
    - name: Signed_Up_Date
      data_type: date
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: ld_SignedUpDate
        type: data
    - name: Case_Close_Date
      data_type: date
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: ld_CaseClosedDate
        type: data
    - name: Lost_Date
      data_type: date
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: ld_LostDate
        type: data
    - name: Paralegal_ID
      data_type: int
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: ld_Paralegal
        type: data
    - name: Attorney_ID
      data_type: int
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: ld_Attorney
        type: data
    - name: If_Qualified_Lead
      data_type: boolean
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: ld_QualifiedLead
        type: data
    - name: Were_You_At_Fault
      data_type: boolean
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: ld_WereYouAtFault
        type: data
    - name: Anyone_Else_In_Vehicle
      data_type: boolean
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: ld_Wasanyoneelseinthevehiclewithyou
        type: data
    - name: Treatment_At_Hospital
      data_type: string
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: ld_TreatmentatHospital
        type: data
    - name: If_Seek_Any_Other_Treatment
      data_type: boolean
      transform:  
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: ld_Didyouseekanyotherdoctorstreatment
        type: data
    - name: Custom1
      data_type: string
    - name: Custom2
      data_type: string
    - name: Custom3
      data_type: string
  - name: CRM_CaseTypes
    fields:
    - name: Truve_Org_ID
      data_type: int
      transform:
        source: internal
        type: key
    - name: Client_Org_ID
      data_type: string
      transform:
        source: etl
        type: org_id
    - name: Practice_Type_ID
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: casetype
        source_field: Code
        type: data
    - name: Case_Type_ID
      data_type: int
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: casetype
        source_field: Id
        type: data
    - name: Case_Type_Name
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: casetype
        source_field: TypeName
        type: data
    - name: Case_Type_NameShort
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: casetype
        source_field: TypeNameShort
        type: data
    - name: IsMassTort
      data_type: boolean
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: casetype
        source_field: IsMassTort
        type: data
    - name: Custom1
      data_type: string
    - name: Custom2
      data_type: string
    - name: Custom3
      data_type: string
  - name: CRM_PracticeTypes
    fields:
    - name: Truve_Org_ID
      data_type: int
      transform:
        source: internal
        type: key
    - name: Client_Org_ID
      data_type: string
      transform:
        source: etl
        type: org_id
    - name: Practice_Type_ID
      data_type: int
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: casetype
        source_field: Code
        type: data
    - name: Practice_Type_Name
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: casetype
        source_field: Code
        type: data
    - name: Custom1
      data_type: string
    - name: Custom2
      data_type: string
    - name: Custom3
      data_type: string
  - name: CRM_LeadSource
    fields:
    - name: Truve_Org_ID
      data_type: int
      transform:
        source: internal
        type: key
    - name: Client_Org_ID
      data_type: string
      transform:
        source: etl
        type: org_id
    - name: Lead_Source_ID
      data_type: int
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: leadsource
        source_field: Id
        type: data
    - name: Lead_Source_Name
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: leadsource
        source_field: SourceName
        type: data
    - name: Lead_Source_Type
      data_type: string
    - name: Lead_Source_Subtype
      data_type: string
    - name: Custom1
      data_type: string
    - name: Custom2
      data_type: string
    - name: Custom3
      data_type: string
  - name: CRM_Referrals
    fields:
    - name: Truve_Org_ID
      data_type: int
      transform:
        source: internal
        type: key
    - name: Client_Org_ID
      data_type: string
      transform:
        source: etl
        type: org_id
    - name: Referral_ID
      data_type: int
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: referrals
        source_field: Id
        type: data
    - name: Referral_Name
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: referrals
        source_field: Name
        type: data
    - name: Referral_Type
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: referrals
        source_field: Type
        type: data
    - name: If_Case_Referred_Out
      data_type: boolean
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: referrals
        source_field: Outgoing
        type: data
    - name: Custom1
      data_type: string
    - name: Custom2
      data_type: string
    - name: Custom3
      data_type: string
  - name: CRM_Status
    fields:
    - name: Truve_Org_ID
      data_type: int
      transform:
        source: internal
        type: key
    - name: Client_Org_ID
      data_type: string
      transform:
        source: etl
        type: org_id
    - name: Status_ID
      data_type: int
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: statuses
        source_field: Id
        type: data
    - name: Status_Name
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: statuses
        source_field: Status
        type: data
    - name: Substatus_Id
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: statuses
        source_field: Substatuses
        type: data
    - name: Substatus_Name
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: statuses
        source_field: Substatuses
        type: data
    - name: Custom1
      data_type: string
    - name: Custom2
      data_type: string
    - name: Custom3
      data_type: string
  - name: CRM_Users
    fields:
    - name: Truve_Org_ID
      data_type: int
      transform:
        source: internal
        type: key
    - name: Client_Org_ID
      data_type: string
      transform:
        source: etl
        type: org_id
    - name: User_ID
      data_type: int
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: users
        source_field: Id
        type: data
    - name: First_Name
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: users
        source_field: FirstName
        type: data
    - name: Middle_Name
      data_type: string
    - name: Last_Name
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: users
        source_field: LastName
        type: data
    - name: Full_Name
      data_type: string
    - name: Email
      data_type: string
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: users
        source_field: Email
        type: data
    - name: Custom1
      data_type: string
    - name: Custom2
      data_type: string
    - name: Custom3
      data_type: string
  - name: CRM_Leads
    fields:
    - name: Truve_Org_ID
      data_type: int
      transform: 
        source: internal
        type: key
    - name: Client_Org_ID
      data_type: string
      transform:
        source: etl
        type: org_id
    - name: Lead_Id
      data_type: int
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: Id
        type: data
    - name: Contact_ID
      data_type: int
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: Contact
        type: data
    - name: Practice_Type_ID
      data_type: int
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: PracticeAreaCode
        type: data
    - name: Case_Type_ID
      data_type: int
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: PracticeAreaId
        type: data
    - name: Date_of_Incident
      data_type: date
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: IncidentDate
        type: data
    - name: Lead_Create_date
      data_type: date
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: CreatedDate
        type: data
    - name: Created_By_ID
      data_type: int
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: leaddetail
        source_field: Creator
        type: data
    - name: Custom1
      data_type: string
    - name: Custom2
      data_type: string
    - name: Custom3
      data_type: string
  - name: CRM_StatusChanges # TODO New Table
    fields:
    - name: Truve_Org_ID
      data_type: int
      transform:
        source: internal
        type: key
    - name: Client_Org_ID
      data_type: string
      transform:
        source: etl
        type: org_id
    - name: Lead_ID
      data_type: int
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: users
        source_field: Id
        type: data
    - name: Status_ID
      data_type: int
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: users
        source_field: StatusId
        type: data
    - name: Status_Change_Date
      data_type: date
      transform:
        source: etl
        source_entity_type: core
        source_entity_name: users
        source_field: LastStatusChangeDate
        type: data
    - name: Custom1
      data_type: string
    - name: Custom2
      data_type: string
    - name: Custom3
      data_type: string
